!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("calc",[],t):"object"==typeof exports?exports.calc=t():e.calc=t()}(this,function(){return function(e){function t(r){if(T[r])return T[r].exports;var n=T[r]={i:r,l:!1,exports:{}};return e[r].call(n.exports,n,n.exports,t),n.l=!0,n.exports}var T={};return t.m=e,t.c=T,t.i=function(e){return e},t.d=function(e,T,r){t.o(e,T)||Object.defineProperty(e,T,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var T=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(T,"a",T),T},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=1)}([function(e,t,T){"use strict";function r(e){for(var t=0,T=void 0,r=[],n=o.INITIAL_STATUS;e[t];){if("+"==(T=e[t]))r.push({type:u.ADD_OPERATOR_TOKEN}),n=o.INITIAL_STATUS;else if("-"==T)n=o.INITIAL_STATUS,r.push({type:u.SUB_OPERATOR_TOKEN}),n=o.INITIAL_STATUS;else if("*"==T)r.push({type:u.MUL_OPERATOR_TOKEN}),n=o.INITIAL_STATUS;else if("/"==T)r.push({type:u.DIV_OPERATOR_TOKEN}),n=o.INITIAL_STATUS;else if("("==T)r.push({type:u.LEFT_PAREN_TOKEN}),n=o.INITIAL_STATUS;else if(")"==T)r.push({type:u.RIGHT_PAREN_TOKEN}),n=o.INITIAL_STATUS;else if(/[0-9]/.test(T)){if(n==o.INITIAL_STATUS)r.push({type:u.NUMBER_TOKEN,value:T}),n=o.IN_INT_PART_STATUS;else if(n==o.IN_INT_PART_STATUS||n==o.IN_FRAC_PART_STATUS){var _=r[r.length-1];_.value+=T}}else if("."==T){if(n!=o.IN_INT_PART_STATUS)throw"语法错误";n=o.IN_FRAC_PART_STATUS;var i=r[r.length-1];i.value+="."}else{if(" "!=T)throw"语法错误";n=o.INITIAL_STATUS}t++}return r.push({type:u.END_TOKEN}),r}function n(e){function t(){return N=A[O++]}function T(){N=A[--O]}function n(){var e=0,T=!1;if(t(),N.type==u.SUB_OPERATOR_TOKEN&&(T=!0,t()),N.type==u.NUMBER_TOKEN)e=N.value;else if(N.type==u.LEFT_PAREN_TOKEN&&(e=i(),t(),N.type!=u.RIGHT_PAREN_TOKEN))throw"缺少 ) ";return e=Number(e),T&&(e=-e),e}function o(){var e=void 0,r=void 0;for(e=n();;){var o=t();if(o.type!=u.MUL_OPERATOR_TOKEN&&o.type!=u.DIV_OPERATOR_TOKEN){T();break}r=n(),o.type==u.MUL_OPERATOR_TOKEN?e=_.mul(e,r):o.type==u.DIV_OPERATOR_TOKEN&&(e=_.div(e,r))}return e}function i(){var e=void 0,r=void 0;for(e=o();;){var n=t();if(n.type!=u.ADD_OPERATOR_TOKEN&&n.type!=u.SUB_OPERATOR_TOKEN){T();break}r=o(),n.type==u.ADD_OPERATOR_TOKEN?e=_.add(e,r):n.type==u.SUB_OPERATOR_TOKEN&&(e=_.sub(e,r))}return e}var A=r(e),O=0,N=A[O];return i()}var _=T(2),u={NUMBER_TOKEN:1,ADD_OPERATOR_TOKEN:2,SUB_OPERATOR_TOKEN:3,MUL_OPERATOR_TOKEN:4,DIV_OPERATOR_TOKEN:5,LEFT_PAREN_TOKEN:6,RIGHT_PAREN_TOKEN:7,END_TOKEN:8},o={INITIAL_STATUS:1,IN_INT_PART_STATUS:2,IN_FRAC_PART_STATUS:4};e.exports={parseExpression:n}},function(e,t,T){"use strict";function r(e){return _(e)}var n=T(0),_=n.parseExpression;e.exports=r},function(e,t,T){"use strict";function r(e,t){var T=o(e,t);return(e*T+t*T)/T}function n(e,t){var T=o(e,t);return(e*T-t*T)/T}function _(e,t){var T=o(e,t);return e*T*(t*T)/(T*T)}function u(e,t){var T=o(e,t);return e*T/(t*T)}var o=function(){function e(e){var t=e.toString().split(".");return t.length<2?1:Math.pow(10,t[1].length)}return function(t,T){return Math.max(e(t),e(T))}}();e.exports={add:r,sub:n,mul:_,div:u}}])});